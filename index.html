<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RISE Fitness Tracker</title>
    <script src="https://www.gstatic.com/firebasejs/10.13.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.13.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.13.1/firebase-firestore-compat.js"></script>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <link rel="stylesheet" href="styles.css">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#FF6B35">
</head>
<body>
    <div id="app">
        <header class="primary">ðŸ”¥ RISE Fitness Tracker</header>
        <hr class="divider">
        <div id="login-section">
            <div class="tabs">
                <button class="tab-btn active" onclick="switchTab('google')">Google Sign-In</button>
                <button class="tab-btn" onclick="switchTab('email')">Email/Password</button>
            </div>
            <div id="google-tab" class="tab-content active">
                <button id="google-signin" class="btn-primary full-width">Sign in with Google</button>
            </div>
            <div id="email-tab" class="tab-content">
                <div id="email-login">
                    <h3 class="section-title">Login</h3>
                    <input type="text" id="login-username" placeholder="Username or Email" class="input-field">
                    <input type="password" id="login-password" placeholder="Password" class="input-field">
                    <button onclick="loginWithEmail()" class="btn-primary full-width">Log In</button>
                    <p class="switch-link">No account? <a href="#" onclick="showSignup()">Sign up</a></p>
                </div>
                <div id="email-signup" style="display:none;">
                    <h3 class="section-title">Sign Up</h3>
                    <input type="text" id="signup-username" placeholder="Username (optional)" class="input-field">
                    <input type="email" id="signup-email" placeholder="Email" class="input-field">
                    <input type="password" id="signup-password" placeholder="Password" class="input-field">
                    <input type="password" id="signup-confirm" placeholder="Confirm Password" class="input-field">
                    <button onclick="signupWithEmail()" class="btn-primary full-width">Create Account</button>
                    <p class="switch-link">Have account? <a href="#" onclick="showLogin()">Log in</a></p>
                </div>
            </div>
        </div>
        <p id="welcome" style="display:none; text-align: center;">Welcome, <span id="username"></span>!</p>
        <nav id="menu" style="display:none;" class="nav-bar">
            <button onclick="showPage('dashboard')" class="nav-btn">Dashboard</button>
            <button onclick="showPage('log')" class="nav-btn">Log Workout</button>
            <button onclick="showPage('goals')" class="nav-btn">Goals</button>
            <button onclick="showPage('ai')" class="nav-btn">AI Coach</button>
            <button onclick="logout()" class="nav-btn">Logout</button>
            <button id="admin-btn" onclick="showPage('admin')" class="nav-btn" style="display:none;">Admin</button>
        </nav>
        <main id="main">
            <div id="dashboard-page" style="display:none;" class="page-content">
                <h2 class="section-title">Dashboard</h2>
                <div id="stats" class="metrics-grid"></div>
                <div id="pace-chart" class="chart-container"></div>
                <div id="goals-hub" class="goals-grid"></div>
            </div>
            <div id="log-page" style="display:none;" class="page-content">
                <h2 class="section-title">Log Workout</h2>
                <form id="workout-form">
                    <input type="date" id="workout-date" value="" class="input-field">
                    <div id="exercises">
                        <div class="exercise-card">
                            <select class="category-select input-field">
                                <option value="">Select Category</option>
                                <option value="Cardio">Cardio</option>
                                <option value="Weights">Weights</option>
                                <option value="Free-Text">Free-Text</option>
                            </select>
                            <input type="text" placeholder="Exercise Name" class="exercise-name input-field">
                            <input type="number" placeholder="Sets" class="sets input-field">
                            <input type="number" placeholder="Reps" class="reps input-field">
                            <input type="number" placeholder="Weight (lbs)" class="weight input-field">
                            <input type="number" placeholder="Time (min)" class="time input-field">
                            <input type="number" placeholder="Distance (mi)" class="distance input-field">
                            <select class="goal-link input-field"><option>None</option></select>
                            <button type="button" onclick="removeExercise(this)" class="btn-secondary">Remove</button>
                        </div>
                    </div>
                    <button type="button" onclick="addExercise()" class="btn-primary">Add Exercise</button>
                    <button type="submit" class="btn-primary">Save Workout</button>
                </form>
            </div>
            <div id="goals-page" style="display:none;" class="page-content">
                <h2 class="section-title">Goals</h2>
                <form id="goal-form">
                    <input type="text" id="goal-exercise" placeholder="Exercise" class="input-field">
                    <select id="metric" class="input-field">
                        <option value="reps">Reps</option>
                        <option value="weight_lbs">Weight (lbs)</option>
                        <option value="time_min">Time (min)</option>
                        <option value="distance_mi">Distance (mi)</option>
                    </select>
                    <input type="number" id="target" placeholder="Target" class="input-field">
                    <input type="date" id="target-date" class="input-field">
                    <button type="submit" class="btn-primary">Add Goal</button>
                </form>
                <div id="goals-list" class="goals-grid"></div>
            </div>
            <div id="ai-page" style="display:none;" class="page-content">
                <h2 class="section-title">AI Coach</h2>
                <div id="chat-history" class="chat-container"></div>
                <input type="text" id="ai-input" placeholder="Ask RISE anything..." class="input-field">
                <button onclick="sendToAI()" class="btn-primary">Send</button>
            </div>
            <div id="admin-page" style="display:none;" class="page-content">
                <h2 class="section-title">Admin Panel</h2>
                <div id="admin-content"></div>
            </div>
        </main>
        <div id="ad-banner">
            <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-6224012644057872" data-ad-slot="YOUR-BANNER-SLOT-ID" data-ad-format="auto" data-full-width-responsive="true"></ins>
            <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
        </div>
    </div>
    <script src="app.js"></script>
</body>
</html>